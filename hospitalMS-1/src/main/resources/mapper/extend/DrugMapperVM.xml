<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.briup.Hospital.dao.extend.DrugMapperVM">
  <resultMap id="BaseResultMap" type="com.briup.Hospital.bean.extend.DrugVM">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Dec 09 20:59:56 CST 2018.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="barcode" jdbcType="VARCHAR" property="barcode" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="description" jdbcType="VARCHAR" property="description" />
    <result column="dosageform" jdbcType="VARCHAR" property="dosageform" />
    <result column="specifications" jdbcType="VARCHAR" property="specifications" />
    <result column="unit" jdbcType="VARCHAR" property="unit" />
    <result column="prime_cost" jdbcType="DOUBLE" property="primeCost" />
    <result column="price" jdbcType="DOUBLE" property="price" />
    <result column="inventory" jdbcType="INTEGER" property="inventory" />
    <result column="minimum" jdbcType="INTEGER" property="minimum" />
    <association column="category_id" property="category" select="com.briup.Hospital.dao.CategoryMapper.selectByPrimaryKey"></association>
  </resultMap>
  
  <select id="findDrugWithCategory" resultMap="BaseResultMap">
  	select * from drug
  </select>
  
  <select id="findDrugWithCategoryById" parameterType="Integer" resultMap="BaseResultMap">
  <!--  传入参数（税率 ） N -->
   
  	select N*(num,cost) from 
  	(select num cost from drug
  	where id=#{id})
  	
  </select>
</mapper>