# ESB培训

ESB为什么无法作为万能中控平台

>   **其一**，仲裁逻辑一般是非常具体的，具体的服务有具体的整合需求。我的理解是它们在某些更详细的小的方面也有很多不同，需要把所有的不同大的差异还是小的差异都屏蔽掉，是不容易做到的。我们要考虑的不仅仅是协议之间的差别，还需要考虑消息格式的差别。
>
> **其二**，如果有这样的设计/实现存在，ESB产商为何不把这个特性直接实现了呢？你也许会说产商不理解具体的业务，而具体的业务是复杂的，SI/ISV
> 却了解这些复杂业务。而事实上，ESB解决的更多是技术层面的工作，业务层面的工作大多数不属于ESB的范畴，复杂的业务逻辑不是在业务系统中实现，就是在其它SOA组件中实现。

## ESB作用：

关联服务

统一数据

统一安全

错误寻址：







开发环境

 Jdeveloper；

OSB Console（sercice **注意命名规范**） ；

 WEBLogin： oracle中间件     管理控制台      域里面的服务器的启停操作             					服务：（管理数据源（连接其他系统数据源），消息传输 ,					域）分区，	部署

WEBLogin console；  oracle中间件    管理控制台      域里面的服务器的启停操作             					服务：（管理数据源（连接其他系统数据源），消息传输 ,		域）分区，					部署







ESB部门介绍：







开发工具： Oracle Service Bus(OSB)  SOA BPM  WebCender IBM Sites

 容器：WebLogin

服务器的安装  ： JDK   WebLogin    OSB  SOA，BPM -> Domain(域) 管理服务器   受管服务器

管理服务器： 提供管理控制台   对域中的资源/服务进行管理   部署服务  为受管服务器部署管理程序

受管服务器：给应用提供专业的服务    （SOA BPM OSB）

创建文件夹

ProxyService：代理服务

PipelLines：管道

Schemas：xxd

WSDLs：WSDL



<HelloRequest>

<name> name</name>

</HelloRequest>

Hello World程序设计：

Println("HELLO"+name);

public String xxx(String name ) {

   return name;

}

调用地址：

输入参数：name

输出参数：Hello + name

1，创建XML  schema(创建参数结构)

2，创建主体

1. ​    创建管道
2.    编辑管道 （完善管道逻辑）









培训总结 

1.  SOAP接口 （HelloWorld - 》 XML格式数据）
2. REST接口（传入json格式是数据）

运行过程

1.  SOAP：基于地址 传入XML格式数据   返回XML格式数据
2. REST：基于地址   传入json格式数据   返回json格式数据

程序：   

SOAP基于WSDL出现

1. 代理服务： 发布借口 供其他系统使用   
2. 管道： 完成接口的内部逻辑（数据交换 服务路由  ）

REST：

1.    WADL文件  

开发过程：

   SOAP

1. 参数结构定义（XSD，XML Schema）
2. WSDL文件创建（基于XSD创建）
3. 创建管道（基于WSDL创建）
4. 编辑管道，完成接口逻辑（数据转换）
5. 创建代理服务 （ 推荐 ：拖拽  ，手动创建（项目右键））

REST：

1. 创建REST组件（基于XSD创建） 生成 WSDL 文件和WADL文件
2. REST组件  以代理服务形式表现
3. 创建管道 （基于代理服务创建）
4. 编辑管道，完成接口逻辑（数据转换）

OSB封装数据库对象

   场景：业务系统提供数据库表  使用OSB封装字段查询 生成WebService供其他系统调用

用 java封装

1. 注册驱动
2. 获取连接
3. 获取预编译对象
4. 写SQL
5. 执行
6. 关闭连接

使用OSB封装

1.  创建连接对象
2. 写SQL





创建数据源

1.   服务 -》创建JDBC数据源 -》 选择XA适配器    数据库名字   ESBDB
2. 配个出站连接池
3. 

